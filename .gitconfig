[user]
	name = Peter Xu
	email = peterx@redhat.com
[alias]
	lo = log --color --stat --summary
	lo-re = lo --reverse
	ls = log --oneline
	ls-tr = log --color --pretty=oneline --graph
	ci = commit -s
	co = checkout
	sw = "!f() { git_switch_branch.sh $1; }; f"
	st = status
	di = diff --color
	bi = bisect
	d = "!f() { git di $1~ $1; }; f"
	br = branch --color
	fp = format-patch --cover-letter
	se = send-email
	author = "!f() { git shortlog --format=\"%ai %h %s\" --author=\"$@\"; }; f"
	cp = cherry-pick
	rb = rebase
	rbc = rebase --continue
	ls-br = log --graph --decorate --oneline --simplify-by-decoration
	publish = !/root/bin/git-publish
	go = rebase --continue
	squash = "ci -a --amend"
	# from Paolo
	whatis = "show -s --pretty='tformat:%h (\"%s\")' --date=short"
	# from Juan
	mr = !sh -c 'git fetch $1 merge-requests/$2/head:mr-$1-$2 && git checkout mr-$1-$2' -
	# from Markus
	dated-branch = for-each-ref --sort=committerdate refs/heads/ --format='%(committerdate:short) %(refname:short)'
	dated-tag = for-each-ref --sort=committerdate refs/tags/ --format='%(committerdate:short) %(refname:short)'
[core]
	editor = emacsclient
[merge]
	tool = meld
[rebase]
	autosquash = true
[color]
	ui = auto
[color "branch"]
	current = yellow reverse
	local = yellow
	remote = green
[color "diff"]
	meta = yellow bold
	frag = magenta bold
	old = red bold
	new = green bold
[color "status"]
	added = green bold
	changed = yellow bold
	untracked = red
[push]
	default = simple
[sendemail]
	#smtpserver = smtp.corp.redhat.com
	#smtpencryption = starttls
	#smtpserverport = 25
	confirm = never
	smtpEncryption = tls
	smtpServer = smtp.gmail.com
	smtpUser = zhexu@redhat.com
	# smtpPass = xxx
	smtpServerPort = 587

[diff]
	renames = true
[gitpublishprofile "qemu"]
	to = qemu-devel@nongnu.org
	cc = peterx@redhat.com
	#cccmd = scripts/get_maintainer.pl --noroles --norolestats --nogit --nogit-fallback 2>/dev/null
[gitpublishprofile "kvm"]
	to = kvm@vger.kernel.org
	to = linux-kernel@vger.kernel.org
	cc = peterx@redhat.com
	base = kvm
[gitpublishprofile "kernel"]
	to = linux-kernel@vger.kernel.org
	cc = peterx@redhat.com
[gitpublishprofile "mm"]
	to = linux-kernel@vger.kernel.org
	to = linux-mm@kvack.org
	cc = peterx@redhat.com
	cc = Andrew Morton <akpm@linux-foundation.org>
[gitpublishprofile "iommu"]
	to = iommu@lists.linux-foundation.org
	to = linux-kernel@vger.kernel.org
	cc = peterx@redhat.com
	cc = joro@8bytes.org
[gitpublishprofile "kvm-unit-tests"]
	to = kvm@vger.kernel.org
	prefix = PATCH kvm-unit-tests
	cc = peterx@redhat.com
[gitpublishprofile "rhel74-qemu-kvm-rhev"]
	to = rhvirt-patches@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-7.4.z qemu-kvm-rhev PATCH
	base = origin/rhv7/master-2.9.0
[gitpublishprofile "rhel75-qemu-kvm-rhev"]
	to = rhvirt-patches@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-7.5.z qemu-kvm-rhev PATCH
	base = origin/rhv7/master-2.10.0
[gitpublishprofile "rhel75-kernel"]
	to = rhkernel-list@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-7.5.z PATCH
	base = origin/master
[gitpublishprofile "rhel76-qemu-kvm-rhev"]
	to = rhvirt-patches@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-7.6 qemu-kvm-rhev PATCH
	# TODO: need to fix this after the branch settles
	base = origin/rhv7/master-2.10.0
[gitpublishprofile "rhev78"]
	to = rhvirt-patches@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-7.8 qemu-kvm-rhev PATCH
	base = origin/rhv78/master
[gitpublishprofile "rhel81-slow"]
	to = rhvirt-patches@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-8.1 qemu-kvm PATCH
	base = origin/rhel-8.1.0
[gitpublishprofile "rhel81-fast"]
	to = rhvirt-patches@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-AV-8.1 qemu-kvm PATCH
	base = origin/rhel-av-8.1.0/master-4.1.0
[gitpublishprofile "rhel76-kernel"]
	to = rhkernel-list@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-7.6 PATCH
	base = origin/master
[gitpublishprofile "rhel77-kernel"]
	to = rhkernel-list@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL7.7 PATCH
	base = origin/master
[gitpublishprofile "rhel78-kernel"]
	to = rhkernel-list@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL7.8 PATCH
	base = origin/master
[gitpublishprofile "rhel82-kernel"]
	to = rhkernel-list@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-8.2.z PATCH
	base = origin/rhel-8.2.0
[gitpublishprofile "rhel83-kernel"]
	to = rhkernel-list@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-8.3 PATCH
	base = origin/rhel-8.3.0
[gitpublishprofile "rhel83-rt"]
	to = kernel-rt-team@redhat.com
	to = kvm-rt@redhat.com
	cc = peterx@redhat.com
	prefix = RHEL-8.3 RT PATCH
	base = origin/rhel-rt-8.3.0
[gitpublishprofile "rt"]
	to = linux-rt-users@vger.kernel.org
	cc = peterx@redhat.com
	cc = Clark Williams <williams@redhat.com>
	cc = John Kacur <jkacur@redhat.com>
	prefix = PATCH
	base = master
[gitpublishprofile "man"]
	to = linux-man@vger.kernel.org
	cc = peterx@redhat.com
	cc = Alejandro Colomar <alx.manpages@gmail.com>
	cc = Michael Kerrisk <mtk.manpages@gmail.com>
	cc = linux-kernel@vger.kernel.org
	prefix = PATCH
	base = master
[pull]
	ff = only
[am]
	# b4 already has lore link, this will mess up the signed-off line
	# to not be the last if ON
	messageid = false
[b4]
	attestation-trust-model = tofu
[init]
	defaultBranch = main
